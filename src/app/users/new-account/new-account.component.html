<!-- Header Ti -->
<section class="marqueeStyle-header ng-scope" ng-if="$root.userInfo.navMenu">
  <div class="header-title" ng-show="$root.userInfo.pageTitle">
    <p class="pageTitle ng-binding">Add user</p>
    <marquee class="marqueeStyle ng-binding" behavior="" direction="left" width="100%" id="appMarquee"
      class="marqueeStyle">
      NSE(FNO), NIFTY &amp; GIFT NIFTY ALL WILL EXPIRES TODAY(26SEP,THU)...
    </marquee>
  </div>
</section>
<!-- T -->
<section class="content">
  <div class="row">
    <form [formGroup]="accountFormGroup"
      class="validation-wizard wizard-circle wizard form-horizontal ng-valid ng-valid-maxlength ng-dirty ng-valid-parse clearfix ng-pristine ng-valid-min ng-valid-max"
      id="steps-uid-7" novalidate="novalidate">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 lobipanel-parent-sortable ui-sortable"
        data-lobipanel-child-inner-id="VKIC2s7FAZ">
        <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable" data-inner-id="VKIC2s7FAZ" data-index="0">
          <div class="panel-heading ui-sortable-handle" style="padding: 5px">
            <div class="panel-title" style="max-width: calc(100% - 90px);">
              <p class="headingGoldTableBox" style="line-height: 32px">
                BASIC DETAILS
              </p>
            </div>
            <div class="dropdown">
              <ul class="dropdown-menu dropdown-menu-right">
                <li><a data-func="unpin" data-tooltip="Unpin" data-toggle="tooltip" data-title="Unpin"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-move"></i><span class="control-title">Unpin</span></a></li>
                <li><a data-func="minimize" data-tooltip="Minimize" data-toggle="tooltip" data-title="Minimize"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-minus"></i><span class="control-title">Minimize</span></a></li>
                <li><a data-func="expand" data-tooltip="Fullscreen" data-toggle="tooltip" data-title="Fullscreen"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-fullscreen"></i><span class="control-title">Fullscreen</span></a>
                </li>
              </ul>
              <div class="dropdown-toggle" data-toggle="dropdown"><span
                  class="panel-control-icon glyphicon glyphicon-cog"></span></div>
            </div>
          </div>
          <div class="panel-body" style="padding: 10px">
            <div class="row">
              <div class="col-md-4">
                <div class="">
                  <label class="">Account Type<span class="comp-field-color"> *</span></label>
                  <!-- app.component.html -->
                  <select class="fieldBox form-control" data-placeholder="Select Account Type"
                    formControlName="accountType" (change)="onOptionChange($event)">
                    <option value="">Select</option>
                    <option value="1" class="ng-scope">Master</option>
                    <option value="2" class="ng-scope">Broker</option>
                    <option value="3" class="ng-scope">Customer</option>
                  </select>
                </div>
              </div>

              <div class="col-md-4" *ngIf="selectedOption === '1' || selectedOption === '2'">
                <div class="fieldElement">
                  <label class="">Account Name <span class="comp-field-color"> *</span></label>
                  <input type="text" placeholder="Enter Account Name" id="partnership"
                    class="form-control fieldBox ng-pristine ng-untouched ng-valid ng-empty">
                </div>
              </div>
              <div class="col-md-4" *ngIf="selectedOption === '1' || selectedOption === '2'">
                <div class="fieldElement">
                  <label class="">Password<span class="comp-field-color"> *</span></label>
                  <input type="password" placeholder="abcd1234" id="partnership"
                    class="form-control fieldBox ng-pristine ng-untouched ng-valid ng-empty">
                </div>
              </div>
            </div>

            <div class="row" style="margin-top: 10px;" *ngIf="selectedOption === '1' || selectedOption === '2'">
              <div class="col-md-4" *ngIf="selectedOption === '1'">
                <div class="fieldElement">
                  <label class="">My Partnership<span class="comp-field-color"> *</span></label>
                  <input type="number" placeholder="Enter Partnership %" id="partnership"
                    class="form-control fieldBox ng-pristine ng-untouched ng-valid ng-empty">
                </div>
              </div>
              <div [ngClass]="selectedOption === '2' ? 'col-8': 'col-md-3'"
                *ngIf="selectedOption === '1' || selectedOption === '2'">
                <label class="">Ledger View</label>
                <div class="radioGroupSection fieldBox" style="display: flex; width: 100%; min-width: 100px">
                  <div class="custom-radio" style="margin-right: 10px">
                    <input type="radio" id="onlyManualYes" name="onlyManualYes"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="1">
                    <label class="custom-control-label" for="onlyManualYes">Yes</label>
                  </div>
                  <div class="custom-radio">
                    <input type="radio" id="onlyManualNo" name="onlyManualNo"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="0">
                    <label class="custom-control-label" for="onlyManualNo">No</label>
                  </div>
                </div>
              </div>

              <div class="col-md-4" *ngIf="selectedOption === '1'">
                <label class="">Only View Access</label>
                <div class="radioGroupSection fieldBox" style="display: flex; width: 40%; min-width: 100px">
                  <div class="custom-radio" style="margin-right: 10px">
                    <input type="radio" id="onlyManualYes" name="onlyManualYes"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="1">
                    <label class="custom-control-label" for="onlyManualYes">Yes</label>
                  </div>
                  <div class="custom-radio">
                    <input type="radio" id="onlyManualNo" name="onlyManualNo"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="0">
                    <label class="custom-control-label" for="onlyManualNo">No</label>
                  </div>
                </div>
              </div>

              <div class="col-md-3" *ngIf="selectedOption === '1'">
                <label class="">Limit/SL Disableds</label>
                <div class="radioGroupSection fieldBox" style="display: flex; width: 40%; min-width: 100px">
                  <div class="custom-radio" style="margin-right: 10px">
                    <input type="radio" id="onlyManualYes" name="onlyManualYes"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="1">
                    <label class="custom-control-label" for="onlyManualYes">Yes</label>
                  </div>
                  <div class="custom-radio">
                    <input type="radio" id="onlyManualNo" name="onlyManualNo"
                      class="custom-control-input ng-pristine ng-untouched ng-valid ng-not-empty"
                      ng-model="formData['manualTradeAllowed']" value="0">
                    <label class="custom-control-label" for="onlyManualNo">No</label>
                  </div>
                </div>
              </div>

            </div>

            <div class="row" style="margin-top: 10px;" *ngIf="selectedOption === '1'|| selectedOption === '2'">
              <div class="col-md-12">
                <label class="">Summary Post Fix <span class="comp-field-color"> *</span></label>
                <input type="text" placeholder="Enter Maximum Limit" id="masterAccountLimit"
                  class="form-control fieldBox ng-pristine ng-untouched ng-valid ng-empty"
                  ng-model="formData['masterAccountLimit']">
              </div>
              <div class="col-md-12">
                <label class="">Remark <span class="comp-field-color"> *</span></label>
                <input type="text" placeholder="Enter Maximum Limit" id="masterAccountLimit"
                  class="form-control fieldBox ng-pristine ng-untouched ng-valid ng-empty"
                  ng-model="formData['masterAccountLimit']">
              </div>
            </div>
            <div class="col-md-12 m-top-10">

            </div>

            <span style="text-align: center" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ng-scope"
              ng-if="formData['clienttype'] != 1">
              <a class="btn common_buttonn" ng-class="disabledActions ? 'disabled' : ''" ng-click="addAccount()"
                role="menuitem" style="
                  color: black;
                  margin-top: 15px;
                  padding: 10px 40px !important;
                ">
                <button class=" btn btn-rounded btn-block">Submit</button>
              </a>
            </span>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 lobipanel-parent-sortable ui-sortable">
        <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable" data-inner-id="4w3IATj60i" data-index="0">
          <div class="panel-heading ui-sortable-handle" style="padding: 5px">
            <div class="panel-title" style="max-width: calc(100% - 90px);">
              <p class="headingGoldTableBox" style="line-height: 32px">
                MARKET ACCESS
              </p>
            </div>
            <div class="dropdown">
              <ul class="dropdown-menu dropdown-menu-right">
                <li><a data-func="unpin" data-tooltip="Unpin" data-toggle="tooltip" data-title="Unpin"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-move"></i><span class="control-title">Unpin</span></a></li>
                <li><a data-func="minimize" data-tooltip="Minimize" data-toggle="tooltip" data-title="Minimize"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-minus"></i><span class="control-title">Minimize</span></a></li>
                <li><a data-func="expand" data-tooltip="Fullscreen" data-toggle="tooltip" data-title="Fullscreen"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-fullscreen"></i><span class="control-title">Fullscreen</span></a>
                </li>
              </ul>
              <div class="dropdown-toggle" data-toggle="dropdown"><span
                  class="panel-control-icon glyphicon glyphicon-cog"></span></div>
            </div>
          </div>

          <div class="panel-body">
            <div ng-show="formData['clienttype'] != 5" style="
                width: 100%;
                display: flex;
                flex-wrap: wrap;
                flex-direction: column;
                padding: 0 25px;
              ">
              <div class="col-md-12">
                <div class="">
                  <div>
                    <div class="">
                      <fieldset>
                        <div class="popupbuttonsgroup" style="display: flex; flex-wrap: wrap; gap: 15px">
                          <!-- ngRepeat: market in markets -->
                          <div ng-repeat="market in markets" class="marketcheckboxgroup ng-scope" style="
                              display: flex;
                              flex-wrap: wrap;
                              align-items: center;
                              min-width: 140px;
                            ">
                            <label title="Please first select account type and after you will be give Market access.">
                              <div class="toggle-button-cover ng-binding" style="
                                  display: flex;
                                  align-items: center;
                                  gap: 5px;
                                ">
                                <div id="button-3-90" class="button-90 " style="display: flex">
                                  <input type="checkbox" id="toggleYesNoNSE" class="toggle-checkbox"
                                    (change)="marketToggle('NSE')" />
                                  <label for="toggleYesNoNSE" class="toggle-label">
                                    <span class="toggle-text">No</span>
                                    <span class="toggle-text">Yes</span>
                                    <div class="toggle-slider"></div>
                                  </label>
                                </div>

                                NSE
                              </div>
                            </label>
                            <span (click)="eyeIconToggle('NSE')" class="eyeIconToggle" *ngIf="isNseEyeIconShow">
                              <i class="bi" class='bi-eye-fill' style="font-size: 22px;"></i>
                            </span>
                          </div>
                          <div ng-repeat="market in markets" class="marketcheckboxgroup ng-scope" style="
                              display: flex;
                              flex-wrap: wrap;
                              align-items: center;
                              min-width: 140px;
                            ">
                            <label title="Please first select account type and after you will be give Market access.">
                              <div class="toggle-button-cover ng-binding" style="
                                  display: flex;
                                  align-items: center;
                                  gap: 5px;
                                ">
                                <div id="button-3-90" class="button-90 " style="display: flex">
                                  <input type="checkbox" id="toggleYesNoMCX" class="toggle-checkbox"
                                    (change)="marketToggle('MCX')" />
                                  <label for="toggleYesNoMCX" class="toggle-label">
                                    <span class="toggle-text">No</span>
                                    <span class="toggle-text">Yes</span>
                                    <div class="toggle-slider"></div>
                                  </label>
                                </div>

                                MCX

                              </div>
                            </label>
                            <span (click)="eyeIconToggle('MCX')" class="eyeIconToggle" *ngIf="isMcxEyeIconShow">
                              <i class="bi" class='bi-eye-fill' style="font-size: 22px;"></i>
                            </span>
                          </div>
                        </div>
                      </fieldset>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- NSE form section  -->
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 lobipanel-parent-sortable ui-sortable"
        *ngIf="nseFormSection && isNseEyeIconShow">
        <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable" data-inner-id="fNtXRKVfN4" data-index="0">
          <div class="panel-heading ui-sortable-handle">
            <div class="panel-title" style="max-width: calc(100% + 90px);">
              <p class="headingGoldTableBox ng-binding">NSE DETAILS</p>
            </div>
            <div class="dropdown">
              <ul class="dropdown-menu dropdown-menu-right">
                <li><a data-func="unpin" data-tooltip="Unpin" data-toggle="tooltip" data-title="Unpin"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-move"></i><span class="control-title">Unpin</span></a></li>
                <li><a data-func="minimize" data-tooltip="Minimize" data-toggle="tooltip" data-title="Minimize"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-minus"></i><span class="control-title">Minimize</span></a></li>
                <li><a data-func="expand" data-tooltip="Fullscreen" data-toggle="tooltip" data-title="Fullscreen"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-fullscreen"></i><span class="control-title">Fullscreen</span></a>
                </li>
              </ul>
              <div class="dropdown-toggle" data-toggle="dropdown"><span
                  class="panel-control-icon glyphicon glyphicon-cog"></span></div>
            </div>
          </div>

          <div class="panel-body p-0 mt-2">
            <div class="mcxMarketForm convertible_class ng-scope">
              <section id="steps-uid-7-p-1" role="tabpanel" aria-labelledby="steps-uid-7-h-1"
                class="body SectionContent dark col-lg-4 col-xs-12 p-2 rounded " aria-hidden="true">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff ">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Brokerage</div>
                    </div>
                  </div>
                  <!-- ngIf: formData['clienttype'] != 1 -->
                  <div style="" class="ng-scope">
                    <!-- ngRepeat: m in markets -->
                    <div ng-show="formData['selectedMarket'][m.id] &amp;&amp; m.id == 2" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="col-md-12 fieldElement">

                            <div class="form-group  m-l-5">
                              <label class="control-label">Import User Settings</label>
                              <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Select ID"
                                  aria-describedby="basic-addon2" />
                              </div>
                              <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                Please enter 1 more character
                              </div>
                            </div>

                          </div>
                          <div style="align-items: flex-end">
                            <div class="col-md-12  m-l-5 fieldElement form-group">
                              <label class="control-label" for="wint1">Min % Wise Brokerage</label>
                              <div class="input-group mb-3">
                                <input type="text" class="form-control" aria-describedby="basic-addon2" />
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>

                    <div ng-show="formData['selectedMarket'][m.id] &amp;&amp; m.id == 2" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope ng-hide">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="">
                            <div class="col-md-12 fieldElement">

                              <div class="form-group  m-l-5">
                                <label class="control-label">Import User Settings</label>
                                <div class="input-group mb-3">
                                  <input type="text" class="form-control" placeholder="Select ID"
                                    aria-describedby="basic-addon2" />
                                </div>
                                <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                  Please enter 1 more character
                                </div>
                              </div>

                            </div>
                          </div>
                          <div ng-show="m.id == 2" class="ng-hide" style="align-items: flex-end">
                            <div class="col-md-12  p-0 fieldElement">
                              <label class="control-label" for="wint1">Min % Wise Brokerage</label>
                              <input ng-model="formData['brokerage'][m.id].percent" type="text"
                                class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                id="minPercent_1">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </fieldset>

              </section>

              <section id="steps-uid-7-p-2" role="tabpanel" aria-labelledby="steps-uid-7-h-2"
                class="body SectionContent dark col-sm-12 col-md-4 col-lg-4 p-2" aria-hidden="true">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Margin</div>
                    </div>
                  </div>

                  <div style="display: flex; flex-wrap: wrap">
                    <!-- ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 2 -->
                    <div ng-if="formData['selectedMarket'][m.id] &amp;&amp; m.id == 2" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope">
                      <!-- ngIf: formData['clienttype'] == 1 -->
                      <div class="col-md-12" style="padding: 0px">
                        <!-- ngIf: formData['selectedMarket'][m.id] && m.id == 2 -->
                        <div ng-if="formData['selectedMarket'][m.id] &amp;&amp; m.id == 2" class="col-md-12 ng-scope"
                          style="padding: 0px">
                          <div class="col-md-12">
                            <div class="fieldElement" style="margin-bottom: 5px">
                              <label class="control-label"></label>
                              <div class="radioGroupSection fieldBox" style="display: flex">
                                <div class="custom-control custom-radio" style="margin-right: 10px">
                                  <input type="radio" id="marketMarginLot_2" name="marketMarginLot_2"
                                    class="custom-control-input ng-pristine ng-untouched ng-valid"
                                    ng-model="formData['marketMargin'][m.id]" ng-value="lot">
                                  <label class="custom-control-label" for="marketMarginLot_2">Lot</label>
                                </div>
                                <div class="custom-control custom-radio">
                                  <input type="radio" id="marketMarginAmount_2" name="marketMarginAmount_2"
                                    class="custom-control-input ng-pristine ng-untouched ng-valid"
                                    ng-model="formData['marketMargin'][m.id]" value="amount">
                                  <label class="custom-control-label" for="marketMarginAmount_2">Amount</label>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div ng-show="formData['marketMargin'][m.id] == 'amount'" class="col-md-12">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Total Margin</label>
                              <input type="number" ng-model="formData['marginAmount'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="margin_2"
                                placeholder="NSE Margin">
                              <p class="digitToLetter ng-binding">

                              </p>
                              <!-- ngIf: formData['clienttype'] == 1 -->
                              <!-- ngIf: formData['clienttype'] != 1 -->
                              <div
                                class="buttoons_class ng-scope d-flex flex-wrap justify-content-between align-items-center"
                                style="width: 100%" ng-if="formData['clienttype'] != 1">
                                <button ng-click="setAmountTo(m.id,1000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  100 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,2000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  200 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,3000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  300 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,5000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  500 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,10000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  1000 CR
                                </button>
                              </div><!-- end ngIf: formData['clienttype'] != 1 -->
                            </div>
                          </div>
                          <div ng-show="formData['marketMargin'][m.id] != 'amount'" class="col-md-12 ng-hide">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Total Lot Wise (Delivery)</label>
                              <input type="number" ng-model="formData['marginLot'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="lot_2"
                                placeholder="NSE Lot Wise">
                              <p class="digitToLetter ng-binding">

                              </p>
                            </div>
                          </div>
                          <!-- ngIf: false -->
                          <!-- ngIf: false -->

                          <!-- ngIf: formData['clienttype'] != 1 -->
                          <div ng-if="formData['clienttype'] != 1" class="col-md-12 ng-scope">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Maximum Limit</label>
                              <input type="number" ng-model="formData['maximumLimit'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="MaximumLimit_2"
                                placeholder="Maximum Limit Amount Wise">
                              <p class="digitToLetter ng-binding">

                              </p>
                              <div class="buttoons_class pt-3 pb-3" style="width: 100%">
                                <button ng-click="setAmountTo(m.id,10000000,'maximumLimit')" class="common_buttonn">
                                  1 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,20000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  2 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,30000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  3 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,50000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  5 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,100000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  10 CR
                                </button>
                              </div>
                            </div>
                          </div><!-- end ngIf: formData['clienttype'] != 1 -->
                        </div><!-- end ngIf: formData['selectedMarket'][m.id] && m.id == 2 -->
                      </div>
                      <!-- ngIf: false -->
                    </div>
                    <!-- end ngIf: formData['selectedMarket'][m.id] && m.id == 2 --><!-- end ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 2 --><!-- end ngRepeat: m in markets -->
                  </div>
                </fieldset>
              </section>

              <section id="steps-uid-7-p-3" role="tabpanel" aria-labelledby="steps-uid-7-h-3"
                class="body SectionContent dark col-sm-12 col-md-4 col-lg-4 p-2 " aria-hidden="true">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Other</div>
                    </div>
                  </div>

                  <div style="">
                    <!-- ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 2 -->
                    <div style="width: 100%" class="ng-scope">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="col-md-12 fieldElement">

                            <div class="form-group  m-l-5">
                              <label class="control-label">Import User Settings 1</label>
                              <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Select ID"
                                  aria-describedby="basic-addon2" />
                              </div>
                              <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                Please enter 1 more character
                              </div>
                            </div>

                          </div>
                          <!-- NSE Allow Block Section -->
                          <div class="fieldElement ng-scope" style="margin-bottom: 10px">
                            <label class="control-label"></label>
                            <div class="radioGroupSection fieldBox" style="display: flex">
                              <div class="custom-control custom-radio" style="margin-right: 10px">
                                <input type="radio" class="custom-control-input ng-pristine ng-untouched ng-valid"
                                  name="type_1" formControlName="selectedOption" value="allow"
                                  [(ngModel)]="selectedOption" (change)="onOptionChange(selectedOption)" id="allow_1">
                                <label class="custom-control-label" for="allow_1">Allow</label>
                              </div>
                              <div class="custom-control custom-radio">
                                <input type="radio" class="custom-control-input ng-pristine ng-untouched ng-valid"
                                  name="type_1" formControlName="selectedOption" value="block"
                                  [(ngModel)]="selectedOption" (change)="onOptionChange(selectedOption)" id="block_1">
                                <label class="custom-control-label" for="block_1">Block</label>
                              </div>
                            </div>
                          </div>

                          <!-- Block Scripts -->
                          <div class="fieldElement fieldElementclose" style="width: 100%"
                            *ngIf="!showAllowScripts && showBlockScripts">
                            <div class="form-group ml-2">
                              <label for="marketSelect">Block Scripts</label>
                              <div class="dropdown">
                                <input type="text" class="form-control" placeholder="Block Scripts NSE"
                                  formControlName="allowScript" [(ngModel)]="searchTerm" (focus)="showDropdown('block')"
                                  (blur)="hideDropdown('block')" (input)="filterBlockOptions()" id="marketSelect"
                                  aria-expanded="false" data-bs-toggle="dropdown" />
                                <ul class="dropdown-menu w-100"
                                  *ngIf="blockDropdownVisible && filteredMarkets.length > 0"
                                  aria-labelledby="marketSelect">
                                  <li *ngFor="let script of filteredBlockMarkets">
                                    <a class="dropdown-item" href="#" (mousedown)="selectBlockScript(script)">
                                      {{ script }}
                                    </a>
                                  </li>
                                </ul>
                              </div>
                              <div class="form-check p-0 mt-1">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                          <!-- Allow Script NSE-->
                          <div class="fieldElement fieldElementclose" style="width: 100%"
                            *ngIf="showAllowScripts && !showBlockScripts">
                            <div class="form-group ml-2">
                              <label for="marketSelect">Allow Scripts</label>
                              <div class="dropdown">
                                <input type="text" class="form-control" placeholder="Allow Scripts NSE"
                                  formControlName="allowScript" [(ngModel)]="searchTerm" (focus)="showDropdown('allow')"
                                  (blur)="hideDropdown('allow')" (input)="filterOptions()" id="marketSelect"
                                  aria-expanded="false" data-bs-toggle="dropdown" />
                                <ul class="dropdown-menu w-100"
                                  *ngIf="allowDropdownVisible && filteredMarkets.length > 0"
                                  aria-labelledby="marketSelect">
                                  <li *ngFor="let script of filteredMarkets">
                                    <a class="dropdown-item" href="#" (mousedown)="selectMarket(script)">
                                      {{ script }}
                                    </a>
                                  </li>
                                </ul>
                              </div>
                              <div class="form-check p-0 mt-1">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                          <!-- Min rate NSE -->
                          <div class="fieldElement fieldElementclose" style="width: 100%">
                            <div class="form-group ml-2">
                              <label class="control-label">Min Rate Script Block</label>
                              <input placeholder="Min Rate Script Block" type="number" formControlName="minScriptBelow"
                                class="fieldBox form-control required amt2 ng-pristine ng-untouched ng-valid"
                                id="minScriptBelow_2">
                              <div class="form-check p-0 mt-1">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- end ngIf: formData['selectedMarket'][m.id] && m.id == 2 --><!-- end ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 2 --><!-- end ngRepeat: m in markets -->
                  </div>
                </fieldset>
              </section>
              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center align-items-center mb-4">
                <button class="common_buttonn" ng-click="showmarketFalse()"
                  style="padding: 9px; border-bottom: 3px solid red">
                  Close
                </button>
              </div>
            </div>

          </div>
        </div>
      </div>

      <!-- MCX Form section  -->
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 lobipanel-parent-sortable ui-sortable"
        *ngIf="mcxFormSection && isMcxEyeIconShow">
        <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable" data-inner-id="fNtXRKVfN4" data-index="0">
          <div class="panel-heading ui-sortable-handle">
            <div class="panel-title" style="max-width: calc(100% + 0px);">
              <p class="headingGoldTableBox ng-binding">MCX DETAILS</p>
            </div>
            <div class="dropdown">
              <ul class="dropdown-menu dropdown-menu-right">
                <li><a data-func="unpin" data-tooltip="Unpin" data-toggle="tooltip" data-title="Unpin"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-move"></i><span class="control-title">Unpin</span></a></li>
                <li><a data-func="minimize" data-tooltip="Minimize" data-toggle="tooltip" data-title="Minimize"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-minus"></i><span class="control-title">Minimize</span></a></li>
                <li><a data-func="expand" data-tooltip="Fullscreen" data-toggle="tooltip" data-title="Fullscreen"
                    data-placement="bottom" data-original-title="" title=""><i
                      class="panel-control-icon ti-fullscreen"></i><span class="control-title">Fullscreen</span></a>
                </li>
              </ul>
              <div class="dropdown-toggle" data-toggle="dropdown"><span
                  class="panel-control-icon glyphicon glyphicon-cog"></span></div>
            </div>
          </div>

          <div class="panel-body p-0 mt-2">
            <!-- ngIf: marketId == 1 -->
            <div class="mcxMarketForm tabcontent-border convertible_class ng-scope" ng-if="marketId == 1">
              <section class="body SectionContent dark col-sm-12 col-md-4 col-lg-4 p-2" style="">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Brokerage</div>
                    </div>
                  </div>
                  <!-- ngIf: formData['clienttype'] != 1 -->
                  <div ng-if="formData['clienttype'] != 1" style="display: flex; flex-wrap: wrap" class="ng-scope">
                    <!-- ngRepeat: m in markets -->
                    <div ng-show="formData['selectedMarket'][m.id] &amp;&amp; m.id == 1" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope ng-hide">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="">
                            <div class="col-md-12 fieldElement">
                              <div class="form-group  m-l-5">
                                <label class="control-label">Import User Settings</label>
                                <div class="input-group mb-3">
                                  <input type="text" class="form-control" placeholder="Select ID"
                                    aria-describedby="basic-addon2" />
                                </div>
                                <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                  Please enter 1 more character
                                </div>
                              </div>

                            </div>
                          </div>
                          <div ng-show="m.id == 1" class="ng-hide">
                            <div class="col-md-12 fieldElement">
                              <label class="control-label" for="wint1">Min % Wise Brokerage</label>
                              <input ng-model="formData['brokerage'][m.id].percent" type="text"
                                class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                id="minPercent1_2">
                            </div>
                            <div class="col-md-12 fieldElement">
                              <label class="control-label" for="wint1">Min Lot Wise Brokerage</label>
                              <input ng-model="formData['brokerage'][m.id].lot" type="text"
                                class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                id="minLot1_2">
                            </div>
                            <div class="col-md-12" style="
                                display: flex;
                                align-items: baseline;
                                flex-wrap: wrap;
                              ">
                              <div class="col-xs-12 col-sm-12 col-md-4" style="padding-left: 0">
                                <div class="fieldElement fieldElementclose" style="width: 100%">
                                  <div class="form-group ml-2">
                                    <label for="marketSelect">Block Scripts</label>
                                    <div class="dropdown">
                                      <input type="text" class="form-control" placeholder="Block Scripts NSE"
                                        formControlName="allowScript" [(ngModel)]="searchTerm"
                                        (focus)="showDropdown('block')" (blur)="hideDropdown('block')"
                                        (input)="filterBlockOptions()" id="marketSelect" aria-expanded="false"
                                        data-bs-toggle="dropdown" />
                                      <ul class="dropdown-menu w-100"
                                        *ngIf="blockDropdownVisible && filteredMarkets.length > 0"
                                        aria-labelledby="marketSelect">
                                        <li *ngFor="let script of filteredBlockMarkets">
                                          <a class="dropdown-item" href="#" (mousedown)="selectBlockScript(script)">
                                            {{ script }}
                                          </a>
                                        </li>
                                      </ul>
                                    </div>
                                    <div class="form-check p-0 mt-1">
                                      <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox"
                                        value="" formControlName="FreshLimitAllowed">
                                      <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit
                                        Allowed?
                                      </label>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-md-4">
                                <div class="">
                                  <label>All</label>
                                  <input type="text" ng-model="formData['brokerage'][m.id]['all'].percent"
                                    placeholder="All %"
                                    class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                    id="minScript_percent_2_all">
                                </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-md-4">
                                <div class="">
                                  <label>All</label>
                                  <input type="text" ng-model="formData['brokerage'][m.id][all].lot"
                                    placeholder="All Lot"
                                    class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                    id="minScript_lot_2_all">
                                </div>
                              </div>
                            </div>
                            <!-- ngRepeat: i in getNumber(totalRowsMCXScript[m.id]) track by $index -->
                            <div class="col-12" style="
                                display: flex;
                                align-items: baseline;
                                justify-content: flex-end;
                                padding-right: 5%;
                              ">
                              <button ng-click="addRows4(m.id)" type="button" class="common_buttonn">
                                <i class="fa fa-plus"></i> Add
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div><!-- end ngRepeat: m in markets -->
                    <div ng-show="formData['selectedMarket'][m.id] &amp;&amp; m.id == 1" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="">
                            <div class="col-md-12 fieldElement">

                              <div class="form-group  m-l-5">
                                <label class="control-label">Import User Settings</label>
                                <div class="input-group mb-3">
                                  <input type="text" class="form-control" placeholder="Select ID"
                                    aria-describedby="basic-addon2" />
                                </div>
                                <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                  Please enter 1 more character
                                </div>
                              </div>

                            </div>
                          </div>
                          <div class="form-group">
                            <div class="col-12">
                              <label class="control-label" for="wint1">Min % Wise Brokerage</label>
                              <input ng-model="formData['brokerage'][m.id].percent" type="text"
                                class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                id="minPercent1_1">
                            </div>
                            <div class="col-12">
                              <label class="control-label" for="wint1">Min Lot Wise Brokerage</label>
                              <input ng-model="formData['brokerage'][m.id].lot" type="text"
                                class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                id="minLot1_1">
                            </div>
                            <div class="mt-2">
                              <div class="col-xs-12 col-sm-12 col-md-4">
                                <div class="">
                                  <label for="marketSelect">Select script</label>
                                  <div class="dropdown">
                                    <input type="text" class="form-control" placeholder="Block Scripts NSE"
                                      formControlName="allowScript" [(ngModel)]="searchTerm"
                                      (focus)="showDropdown('block')" (blur)="hideDropdown('block')"
                                      (input)="filterBlockOptions()" id="marketSelect" aria-expanded="false"
                                      data-bs-toggle="dropdown" />
                                    <ul class="dropdown-menu w-100"
                                      *ngIf="blockDropdownVisible && filteredMarkets.length > 0"
                                      aria-labelledby="marketSelect">
                                      <li *ngFor="let script of filteredBlockMarkets">
                                        <a class="dropdown-item" href="#" (mousedown)="selectBlockScript(script)">
                                          {{ script }}
                                        </a>
                                      </li>
                                    </ul>
                                  </div>
                                </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-md-4">
                                <div class="">
                                  <label>All</label>
                                  <input type="text" placeholder="All %"
                                    class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                    id="minScript_percent_1_all">
                                </div>
                              </div>
                              <div class="col-xs-12 col-sm-12 col-md-4">
                                <div class="">
                                  <label>All</label>
                                  <input type="text" ng-model="formData['brokerage'][m.id][all].lot"
                                    placeholder="All Lot"
                                    class="fieldBox form-control amt1 required ng-pristine ng-untouched ng-valid"
                                    id="minScript_lot_1_all">
                                </div>
                              </div>
                            </div>
                            <!-- ngRepeat: i in getNumber(totalRowsMCXScript[m.id]) track by $index -->
                            <div class="col-12 mt-2 p-3" style="
                                display: flex;
                                align-items: baseline;
                                justify-content:center;
                                padding-right: 5%;
                              ">
                              <button ng-click="addRows4(m.id)" type="button" class="common_buttonn">
                                <i class="fa fa-plus"></i> Add
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div><!-- end ngRepeat: m in markets -->
                  </div><!-- end ngIf: formData['clienttype'] != 1 -->
                  <!-- ngIf: formData['clienttype'] == 1 -->
                </fieldset>
              </section>
              <section class="body SectionContent dark col-sm-12 col-md-4 col-lg-4 p-2" style="">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Margin</div>
                    </div>
                  </div>
                  <div style="display: flex; flex-wrap: wrap">
                    <!-- ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 1 --><!-- end ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 1 -->
                    <div ng-if="formData['selectedMarket'][m.id] &amp;&amp; m.id == 1" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope">
                      <div class="col-md-12" style="padding: 0px">
                        <!-- ngIf: formData['clienttype'] == 1 -->
                        <!-- ngIf: formData['selectedMarket'][m.id]&& m.id == 1 -->
                        <div ng-if="formData['selectedMarket'][m.id]&amp;&amp; m.id == 1" class="col-md-12 ng-scope"
                          style="
                            padding: 0px;
                            display: flex;
                            flex-direction: column;
                            gap: 5px;
                          ">
                          <div class="col-md-12">
                            <div class="fieldElement">
                              <label class="control-label"></label>
                              <div class="radioGroupSection fieldBox" style="display: flex">
                                <div class="custom-control custom-radio" style="margin-right: 10px">
                                  <input type="radio" id="marketMarginLot_1" name="marketMarginLot_1"
                                    class="custom-control-input ng-pristine ng-untouched ng-valid"
                                    ng-model="formData['marketMargin'][m.id]" value="lot">
                                  <label class="custom-control-label" for="marketMarginLot_1">Lot</label>
                                </div>
                                <div class="custom-control custom-radio">
                                  <input type="radio" id="marketMarginAmount_1" name="marketMarginAmount_1"
                                    class="custom-control-input ng-pristine ng-untouched ng-valid"
                                    ng-model="formData['marketMargin'][m.id]" value="amount">
                                  <label class="custom-control-label" for="marketMarginAmount_1">Amount</label>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div ng-show="formData['marketMargin'][m.id] == 'amount'" class="col-md-12 ng-hide">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Total Margin</label>
                              <input type="number" ng-model="formData['marginAmount'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="margin_1"
                                placeholder="MCX Margin">
                              <p class="digitToLetter ng-binding">

                              </p>

                              <!-- ngIf: formData['clienttype'] == 1 -->
                              <!-- ngIf: formData['clienttype'] != 1 -->
                              <div class="buttoons_class ng-scope" style="width: 100%"
                                ng-if="formData['clienttype'] != 1">
                                <button ng-click="setAmountTo(m.id,500000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  50 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,1000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  100 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,2000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  200 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,5000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  500 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,10000000000,'marginAmount')" class="common_buttonn"
                                  type="button">
                                  1000 CR
                                </button>
                              </div><!-- end ngIf: formData['clienttype'] != 1 -->
                            </div>
                            <!-- ngIf: false -->
                          </div>
                          <div ng-show="formData['marketMargin'][m.id] != 'amount'" class="col-md-12">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Total Lot Wise(Delivery)</label>
                              <input type="number" ng-model="formData['marginLot'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="lot_1"
                                placeholder="MCX Lot Wise">
                              <p class="digitToLetter ng-binding">

                              </p>
                              <!-- ngIf: formData['clienttype'] != 1 -->
                              <div class="buttoons_class ng-scope" style="width: 100%"
                                ng-if="formData['clienttype'] != 1">
                                <button ng-click="setAmountTo(m.id,50,'marginLot')" class="common_buttonn"
                                  type="button">
                                  50
                                </button>
                                <button ng-click="setAmountTo(m.id,100,'marginLot')" class="common_buttonn"
                                  type="button">
                                  100
                                </button>
                                <button ng-click="setAmountTo(m.id,200,'marginLot')" class="common_buttonn"
                                  type="button">
                                  200
                                </button>
                                <button ng-click="setAmountTo(m.id,500,'marginLot')" class="common_buttonn"
                                  type="button">
                                  500
                                </button>
                                <button ng-click="setAmountTo(m.id,1000,'marginLot')" class="common_buttonn"
                                  type="button">
                                  1000
                                </button>
                              </div><!-- end ngIf: formData['clienttype'] != 1 -->
                              <!-- ngIf: formData['clienttype'] == 1 -->
                            </div>
                            <!-- ngIf: false -->
                          </div>

                          <!-- ngIf: formData['clienttype'] != 1 -->
                          <div ng-if="formData['clienttype'] != 1" class="col-md-12 ng-scope">
                            <div class="fieldElement" style="width: 100%">
                              <label class="control-label">Maximum Limit</label>
                              <input type="number" ng-model="formData['maximumLimit'][m.id]"
                                class="fieldBox form-control amt ng-pristine ng-untouched ng-valid" id="MaximumLimit_1"
                                placeholder="Maximum Limit Amount Wise">
                              <p class="digitToLetter ng-binding">

                              </p>
                              <div class="buttoons_class ng-hide" style="width: 100%"
                                ng-show="formData['marketMargin'][m.id] == 'amount'">
                                <button ng-click="setAmountTo(m.id,50000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  5 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,100000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  10 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,150000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  15 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,200000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  20 CR
                                </button>
                                <button ng-click="setAmountTo(m.id,300000000,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  30 CR
                                </button>
                              </div>
                              <div class="buttoons_class pt-3 pb-3" style="width: 100%"
                                ng-show="formData['marketMargin'][m.id] == 'lot'">
                                <button ng-click="setAmountTo(m.id,10,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  10
                                </button>
                                <button ng-click="setAmountTo(m.id,20,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  20
                                </button>
                                <button ng-click="setAmountTo(m.id,30,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  30
                                </button>
                                <button ng-click="setAmountTo(m.id,40,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  40
                                </button>
                                <button ng-click="setAmountTo(m.id,50,'maximumLimit')" class="common_buttonn"
                                  type="button">
                                  50
                                </button>
                              </div>
                            </div>
                          </div><!-- end ngIf: formData['clienttype'] != 1 -->
                        </div><!-- end ngIf: formData['selectedMarket'][m.id]&& m.id == 1 -->
                      </div>
                      <!-- ngIf: false -->
                    </div>
                    <!-- end ngIf: formData['selectedMarket'][m.id] && m.id == 1 --><!-- end ngRepeat: m in markets -->
                  </div>
                </fieldset>
              </section>
              <section class="body SectionContent dark col-sm-12 col-md-4 col-lg-4 p-2" style="">
                <fieldset class="border border-secondary rounded">
                  <div style="background-color: #2a3f54; color: #fff">
                    <div class="panel-heading" style="padding: 5px 15px">
                      <div class="panel-title">Other</div>
                    </div>
                  </div>
                  <div style="display: flex; flex-wrap: wrap">
                    <!-- ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 1 --><!-- end ngRepeat: m in markets --><!-- ngIf: formData['selectedMarket'][m.id] && m.id == 1 -->
                    <div ng-if="formData['selectedMarket'][m.id] &amp;&amp; m.id == 1" ng-repeat="m in markets"
                      style="width: 100%" class="ng-scope">
                      <div class="col-md-12" style="padding: 0px">
                        <div class="col-md-12">
                          <div class="col-md-12 fieldElement">

                            <div class="form-group  m-l-5">
                              <label class="control-label">Import User Settings</label>
                              <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Select ID"
                                  aria-describedby="basic-addon2" />
                              </div>
                              <div class="absolute w-full  rounded mt-1 p-2 text-gray-700">
                                Please enter 1 more character
                              </div>
                            </div>

                          </div>
                          <!-- MCX Allow / Block  Section -->
                          <div class="fieldElement ng-scope" style="margin-bottom: 10px">
                            <label class="control-label"></label>
                            <div class="radioGroupSection fieldBox" style="display: flex">
                              <div class="custom-control custom-radio" style="margin-right: 10px">
                                <input type="radio" class="custom-control-input ng-pristine ng-untouched ng-valid"
                                  name="type_1" formControlName="selectedOption" value="allow"
                                  [(ngModel)]="selectedOption" (change)="onOptionChange(selectedOption)" id="allow_1">
                                <label class="custom-control-label" for="allow_1">Allow</label>
                              </div>
                              <div class="custom-control custom-radio">
                                <input type="radio" class="custom-control-input ng-pristine ng-untouched ng-valid"
                                  name="type_1" formControlName="selectedOption" value="block"
                                  [(ngModel)]="selectedOption" (change)="onOptionChange(selectedOption)" id="block_1">
                                <label class="custom-control-label" for="block_1">Block</label>
                              </div>
                            </div>
                          </div>
                          <div class="fieldElement fieldElementclose" style="width: 100%"
                            *ngIf="!showAllowScripts && showBlockScripts">
                            <div class="form-group ml-2">
                              <label for="marketSelect">Block Scripts</label>
                              <div class="dropdown">
                                <input type="text" class="form-control" placeholder="Block Scripts NSE"
                                  formControlName="allowScript" [(ngModel)]="searchTerm" (focus)="showDropdown('block')"
                                  (blur)="hideDropdown('block')" (input)="filterBlockOptions()" id="marketSelect"
                                  aria-expanded="false" data-bs-toggle="dropdown" />
                                <ul class="dropdown-menu w-100"
                                  *ngIf="blockDropdownVisible && filteredMarkets.length > 0"
                                  aria-labelledby="marketSelect">
                                  <li *ngFor="let script of filteredBlockMarkets">
                                    <a class="dropdown-item" href="#" (mousedown)="selectBlockScript(script)">
                                      {{ script }}
                                    </a>
                                  </li>
                                </ul>
                              </div>
                              <div class="form-check p-0 mt-1">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                          <!-- Allowed Script Other MCX -->
                          <div class="fieldElement fieldElementclose" style="width: 100%"
                            *ngIf="showAllowScripts && !showBlockScripts">
                            <div class="form-group ml-2">
                              <label for="marketSelect">Allow Scripts</label>
                              <div class="dropdown">
                                <input type="text" class="form-control" placeholder="Select"
                                  formControlName="allowScript" [(ngModel)]="searchTerm" (focus)="showDropdown('allow')"
                                  (blur)="hideDropdown('allow')" (input)="filterOptions()" id="marketSelect"
                                  aria-expanded="false" data-bs-toggle="dropdown" />
                                <ul class="dropdown-menu w-100"
                                  *ngIf="allowDropdownVisible && filteredMarkets.length > 0"
                                  aria-labelledby="marketSelect">
                                  <li *ngFor="let script of filteredMarkets">
                                    <a class="dropdown-item" href="#" (mousedown)="selectMarket(script)">
                                      {{ script }}
                                    </a>
                                  </li>
                                </ul>
                              </div>
                              <div class="form-check p-0">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-5">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                          <!-- Min rate NSE -->
                          <div class="fieldElement fieldElementclose" style="width: 100%">
                            <div class="form-group ml-2">
                              <label class="control-label">Min Rate Script Block</label>
                              <input placeholder="Min Rate Script Block" type="number" formControlName="minScriptBelow"
                                class="fieldBox form-control required amt2 ng-pristine ng-untouched ng-valid"
                                id="minScriptBelow_2">
                              <div class="form-check p-0 mt-1">
                                <input id="otherfreshLimitAllowed1" class="form-check-input" type="checkbox" value=""
                                  formControlName="FreshLimitAllowed">
                                <label for="otherfreshLimitAllowed1" class="form-check-label ml-4">Fresh Limit Allowed?
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </fieldset>
              </section>
              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-center align-items-center mb-4">
                <button class="common_buttonn" ng-click="showmarketFalse()"
                  style="padding: 9px; border-bottom: 3px solid red">
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>

      </div>


      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  lobipanel-parent-sortable ui-sortable"
        *ngIf="selectedOption === '3'">
        <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable">
          <div class="panel-heading ui-sortable-handle">
            <div class="panel-title" style="max-width: calc(100% + 0px);">
              <p class="headingGoldTableBox">ACCOUNT DETAILS</p>
            </div>
            <div class="dropdown">
              <ul class="dropdown-menu dropdown-menu-right">
                <li>
                  <a data-func="unpin" data-tooltip="Unpin" data-toggle="tooltip" data-title="Unpin"
                    data-placement="bottom" data-original-title="" title="">
                    <i class="panel-control-icon ti-move"></i>
                    <span class="control-title">Unpin</span>
                  </a>
                </li>
                <li>
                  <a data-func="minimize" data-tooltip="Minimize" data-toggle="tooltip" data-title="Minimize"
                    data-placement="bottom" data-original-title="" title="">
                    <i class="panel-control-icon ti-minus"></i>
                    <span class="control-title">Minimize</span>
                  </a>
                </li>
                <li>
                  <a data-func="expand" data-tooltip="Fullscreen" data-toggle="tooltip" data-title="Fullscreen"
                    data-placement="bottom" data-original-title="" title="">
                    <i class="panel-control-icon ti-fullscreen"></i><span class="control-title">
                      Fullscreen</span></a>
                </li>
              </ul>
              <div class="dropdown-toggle" data-toggle="dropdown">
                <span class="panel-control-icon glyphicon glyphicon-cog"></span>
              </div>
            </div>
          </div>


          <div class="panel-body">
            <fieldset class="fieldset-border" style="padding: 10px" *ngIf="selectedOption === '3' ">

              <div class="row">
                <div class="col-md-8">
                  <!-- ngRepeat: items in checkboxItems -->

                  <div class="col-md-6 mb-4" style="display: flex; justify-content: space-between"
                    *ngFor="let items of checkboxItems; let i = index">
                    <div class="col-md-8 mb-2">
                      <label>{{items.label}}</label>
                    </div>
                    <!-- Yes or No -->
                    <div class="col-md-4">
                      <div id="button-3-90" class="button-90" style="display: flex">
                        <input type="checkbox" [id]="'toggleYesNo' + i" class="toggle-checkbox"
                          (change)="onToggle($event)" />
                        <label [for]="'toggleYesNo' + i" class="toggle-label">
                          <span class="toggle-text">No</span>
                          <span class="toggle-text">Yes</span>
                          <div class="toggle-slider"></div>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>


                <div class="col-md-4">
                  <!-- ngIf: false -->
                  <div class="col-md-12 " style="">
                    <div class="col-md-6">
                      <label class="" style="">Alert %</label>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <input placeholder="Alert %" type="number" ng-model="formData['alertPercentage']"
                          class="fieldBox form-control required amt3 ng-pristine ng-untouched ng-valid" id="alert_per">
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12 " style="">
                    <div class="col-md-6">
                      <label class="" style="">M2M Loss (NSE/MCX/NOPT)</label>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <input placeholder="M2M PL" type="number" ng-model="formData['lossMargin']"
                          class="fieldBox form-control required amt3 ng-pristine ng-untouched ng-valid"
                          id="loss_margin">
                        <p class="digitToLetter ng-binding" style="text-align: left">

                        </p>
                      </div>
                    </div>
                    <div class="col-md-6">

                    </div>
                    <div class="col-md-6">
                      <!-- ngIf: formData['clienttype'] == 1 -->
                    </div>
                  </div>
                  <div class="col-md-12" style="">
                    <div class="col-md-6">
                      <label class="" style="">Order Limit </label>
                    </div>

                    <div class="col-md-6">
                      <div class="col-md-8">
                        <label class="" style=""><input type="radio" name="isOrderLimitCheckbox" checked=""
                            ng-click="isOrderLimitType = 'percent'">Percentage</label>
                      </div>

                      <!-- ngIf: false -->
                      <div class="col-md-4">
                        <input ng-if="isOrderLimitType == 'percent'" placeholder="Order Limit Per" type="number"
                          ng-model="formData['orderLimitPercentage']"
                          class="fieldBox form-control required amt3 ng-pristine ng-untouched ng-valid ng-scope"
                          id="alert_per">
                      </div>
                    </div>
                  </div>
                  <div ng-show="formData['clienttype'] == 1" class="col-md-12" style="">
                    <div class="col-md-6">
                      <label class="" style="">Sq. Off disabled in (Minutes)</label>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <input placeholder="Minutes" type="number" ng-model="formData['sq_off_disable_minutes']"
                          class="fieldBox form-control required amt3 ng-pristine ng-untouched ng-valid"
                          id="sq_off_disable_minutes">
                      </div>
                    </div>
                  </div>

                  <!-- ngIf: false -->

                  <!-- ngIf: false -->
                  <div ng-show="formData['clienttype'] == 1" class="col-md-12 mb-2" style="">
                    <div class="col-md-6">
                      <label class="" style="">M2M Loss (FOREX/COMEX)</label>
                    </div>
                    <div class="col-md-6">
                      <div class="">
                        <input placeholder="M2M PL" type="number" ng-model="formData['lossMarginForex']"
                          class="fieldBox form-control required amt3 ng-pristine ng-untouched ng-valid"
                          id="loss_margin_forex">
                        <p class="digitToLetter ng-binding" style="text-align: left">

                        </p>
                      </div>
                    </div>
                  </div>
                </div>


              </div>
            </fieldset>
          </div>
        </div>
      </div>


      <!-- Closing Modal -->
      <div id="showPopupAlertModal" class="modal fade" style="display: none; background-color: #00000082"
        aria-modal="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content" style="background-color: #1e2226; border: 3px solid #2a3f54">
            <div class="modal-header">
              <!-- ngIf: popupAlertTitle -->
              <button ng-click="$('#showPopupAlertModal').modal('hide');" type="button" data-dismiss="modal"
                aria-label="Close" class="close">
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div class="modal-body">
              <!-- ngIf: popupAlertMsgText -->
            </div>
            <div class="modal-footer">
              <button ng-click="$('#showPopupAlertModal').modal('hide');" type="button" data-dismiss="modal"
                class="common_buttonn btn-sm" style="border-bottom: 3px solid red">
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
      <div id="showAccountErrorPopup" class="modal fade"
        style="display: none; z-index: 9998; background-color: rgba(0, 0, 0, 0.7);">
        <div style="
            max-width: 25% !important;
            height: auto;
            max-height: 100% !important;
          " class="modal-dialog modal-sm modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body" style="
                max-height: calc(100vh - 100px);
                overflow-y: auto;
                display: flex;
                justify-content: space-between;
              ">
              <h4 style="text-align: center">Please Select Account Type</h4>
              <button onclick="$('#showAccountErrorPopup').hide();" type="button" data-dismiss="modal"
                aria-label="Close" class="close" style="position: relative; top: -15px; right: -5px">
                <span aria-hidden="true">×</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>